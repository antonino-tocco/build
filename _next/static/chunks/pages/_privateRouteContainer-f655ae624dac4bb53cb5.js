_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[17],{"8rj6":function(t,e,r){"use strict";r.r(e);var n=r("o0o1"),a=r.n(n),c=r("HaE+"),o=r("ODXe"),u=r("q1tI"),s=r("/MKj"),i=r("p46w"),l=r.n(i),f=r("N39q"),p=function(){return function(t){var e;return null!==(e=l.a.get(t))&&void 0!==e?e:null}(f.a.AUTH_COOKIE_KEY)},d=r("kzYg"),v=r("E3lv");function g(t,e){return function(){var r=Object(c.a)(a.a.mark((function r(n){var c;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n({type:v.a.LOGIN_REQUEST}),r.next=3,Object(d.h)(t,e);case 3:if(!(c=r.sent).success){r.next=7;break}return n({type:v.a.LOGIN_SUCCESS,isLogged:!0}),r.abrupt("return");case 7:n((a=c.error,{type:v.a.LOGIN_ERROR,error:a,isLogged:!1}));case 8:case"end":return r.stop()}var a}),r)})));return function(t){return r.apply(this,arguments)}}()}function h(t){return function(){var e=Object(c.a)(a.a.mark((function e(r){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:v.a.VERIFY_TOKEN_REQUEST}),e.next=3,Object(d.k)(t);case 3:if(!(n=e.sent).success){e.next=7;break}return r({type:v.a.VERIFY_TOKEN_SUCCESS,isLogged:!0}),e.abrupt("return");case 7:r((a=n.error,{type:v.a.VERIFY_TOKEN_ERROR,error:a,isLogged:!1}));case 8:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}()}var b=r("r9w1"),m=r("YK1M"),E=r("Iv90"),w=r("d0Tl"),O=r("RD7I"),_=u.createElement,y=Object(O.a)((function(t){return{root:{color:"#fff"},label:{color:"#fff"},input:{color:"#fff"}}}));function R(t){t.login;var e=t.logo,r=u.useState(""),n=Object(o.a)(r,2),a=n[0],c=n[1],s=u.useState(""),i=Object(o.a)(s,2),l=i[0],f=i[1],p=y();return _("div",{className:E["login-form-container"]},_("form",{className:"form"},e?_("img",{src:Object(w.a)(e)}):null,_("div",{className:"row"},_("div",{className:"col-12"},_("div",{className:"input-group"},_(b.a,{InputLabelProps:{className:p.label,classes:{focused:p.label}},InputProps:{className:p.input,classes:{focused:p.label}},fullWidth:!0,variant:"outlined",label:"Username",name:"username",value:a,onChange:function(t){return c(t.target.value)}})))),_("div",{className:"row",style:{marginTop:20}},_("div",{className:"col-12"},_("div",{className:"input-group"},_(b.a,{InputLabelProps:{className:p.label,classes:{focused:p.label}},InputProps:{className:p.input,classes:{focused:p.label}},fullWidth:!0,variant:"outlined",label:"Password",name:"password",value:l,onChange:function(t){return f(t.target.value)}})))),_("div",{className:"row",style:{position:"absolute",bottom:20,left:0,right:0}},_("div",{className:"col-12",onClick:function(){}},_(m.a,{style:{margin:"0 auto"}},"Login")))))}var N=r("hDQs"),x=u.createElement;e.default=Object(s.b)((function(t,e){var r;return{isLogged:null!==(r=t.auth.isLogged)&&void 0!==r&&r}}),(function(t){return{login:function(){var e=Object(c.a)(a.a.mark((function e(r,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(g(r,n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),verifyToken:function(){var e=Object(c.a)(a.a.mark((function e(r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(h(r));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))((function(t){var e,r=t.children,n=t.isLogged,s=t.login,i=t.verifyToken,l=u.useState(),f=Object(o.a)(l,2),d=f[0],v=f[1],g=function(){var t=Object(c.a)(a.a.mark((function t(){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(N.a)();case 3:e=t.sent,v(e),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return Object(u.useEffect)((function(){g(),function(){var t=p();t&&t.trim().length>0&&i(t)}()}),[]),x("div",null,n?{children:r}:x(R,{login:function(t,e){t&&e&&s(t,e)},logo:null!==(e=null===d||void 0===d?void 0:d.logo)&&void 0!==e?e:null}))}))},E3lv:function(t,e,r){"use strict";e.a={LOGIN_REQUEST:"LOGIN_REQUEST",LOGIN_SUCCESS:"LOGIN_SUCCESS",LOGIN_ERROR:"LOGIN_ERROR",VERIFY_TOKEN_REQUEST:"VERIFY_TOKEN_REQUEST",VERIFY_TOKEN_SUCCESS:"VERIFY_TOKEN_SUCCESS",VERIFY_TOKEN_ERROR:"VERIFY_TOKEN_ERROR"}},Iv90:function(t,e,r){t.exports={"login-form-container":"login_login-form-container__zRvzS"}},dpcX:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_privateRouteContainer",function(){return r("8rj6")}])},kzYg:function(t,e,r){"use strict";r.d(e,"i",(function(){return v})),r.d(e,"j",(function(){return g})),r.d(e,"f",(function(){return h})),r.d(e,"g",(function(){return b})),r.d(e,"b",(function(){return m})),r.d(e,"d",(function(){return E})),r.d(e,"c",(function(){return w})),r.d(e,"e",(function(){return O})),r.d(e,"h",(function(){return y})),r.d(e,"k",(function(){return R})),r.d(e,"a",(function(){return _}));var n=r("o0o1"),a=r.n(n),c=r("HaE+"),o=r("vDqi"),u=r.n(o),s=r("N39q"),i=null!=="https://facility-hub.cineca.it"?"https://facility-hub.cineca.it":"http://localhost:5000",l={login:"/auth/login",verifyToken:"/auth/verifyToken"},f={filters:function(t){return"/filters/".concat(t)},types:function(t){return"/types/".concat(t)},datasets:function(){return"/search/dataset"},models:function(){return"/search/model"}},p={datasets:function(){return"/download/dataset"},models:function(){return"/download/model"}},d=function(t){try{return t&&200===t.status?t.data:null}catch(e){throw e}},v=function(){var t=Object(c.a)(a.a.mark((function t(e){var r,n,c,o,s,l,p,v,g,h;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.data_type,n=void 0===r?null:r,c=e.query,o=e.filters,s=e.page,l=void 0===s?0:s,p=e.hitsPerPage,v=void 0===p?20:p,g="".concat(i).concat(f.datasets(),"/").concat(l,"/").concat(v),t.prev=2,t.next=5,u.a.post(g,{data_type:n,query:c,filters:o});case 5:return h=t.sent,t.abrupt("return",d(h));case 9:t.prev=9,t.t0=t.catch(2),console.error("@@@@error retrieving datasets"),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=Object(c.a)(a.a.mark((function t(e){var r,n,c,o,s,l,p,v;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.query,n=e.filters,c=e.page,o=void 0===c?0:c,s=e.hitsPerPage,l=void 0===s?20:s,p="".concat(i).concat(f.models(),"/").concat(o,"/").concat(l),t.prev=2,t.next=5,u.a.post(p,{query:r,filters:n});case 5:return v=t.sent,t.abrupt("return",d(v));case 9:t.prev=9,t.t0=t.catch(2),console.error("@@@@error retrieving datasets"),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(c.a)(a.a.mark((function t(e){var r,n,c,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.indexName,n=e.type,c="".concat(i).concat(f.filters(r)),n&&(c="".concat(c,"/").concat(n)),t.prev=3,t.next=6,u.a.get(c);case 6:return o=t.sent,t.abrupt("return",d(o));case 10:t.prev=10,t.t0=t.catch(3),console.error("@@@@error retrieving data filters"),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}(),b=function(){var t=Object(c.a)(a.a.mark((function t(e){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="".concat(i).concat(f.types(e)),t.prev=1,t.next=4,u.a.get(r);case 4:return n=t.sent,t.abrupt("return",d(n));case 8:t.prev=8,t.t0=t.catch(1),console.error("@@@@@error retrieving data types"),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),m=function(t){var e="".concat(i).concat(p.datasets(),"/all");return t&&t.trim().length>0&&(e+="?data_type=".concat(t)),e},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e="".concat(i).concat(p.datasets(),"?ids=").concat(t.join(","));return e},w=function(){return"".concat(i).concat(p.datasets(),"/all")},O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e="".concat(i).concat(p.datasets(),"?ids=").concat(t.join(","));return e},_=function(){var t=Object(c.a)(a.a.mark((function t(e){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r="".concat(s.a.MORPHOLOGY_VIEWER_BASE_URL).concat(e),t.next=4,u.a.get(r);case 4:return n=t.sent,t.abrupt("return",!!n&&!!n.status&&200===n.status);case 8:t.prev=8,t.t0=t.catch(0),console.error("@@@@@error retrieving data types"),console.error(t.t0);case 12:return t.abrupt("return",!1);case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(c.a)(a.a.mark((function t(e,r){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(i).concat(l.login),t.prev=1,t.next=4,u.a.post(n,{username:e,password:r});case 4:if(200!==t.sent.status){t.next=7;break}return t.abrupt("return",{success:!0});case 7:return t.abrupt("return",{error:"Something was wrong"});case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",{error:t.t0});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,r){return t.apply(this,arguments)}}(),R=function(){var t=Object(c.a)(a.a.mark((function t(e){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="".concat(i).concat(l.verifyToken),t.prev=1,t.next=4,u.a.post(r,{token:e});case 4:if(200!==t.sent.status){t.next=7;break}return t.abrupt("return",{success:!0});case 7:return t.abrupt("return",{error:"Something was wrong"});case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",{error:t.t0});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},p46w:function(t,e,r){var n,a;!function(c){if(void 0===(a="function"===typeof(n=c)?n.call(e,r,e,t):n)||(t.exports=a),!0,t.exports=c(),!!0){var o=window.Cookies,u=window.Cookies=c();u.noConflict=function(){return window.Cookies=o,u}}}((function(){function t(){for(var t=0,e={};t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(n){function a(){}function c(e,r,c){if("undefined"!==typeof document){"number"===typeof(c=t({path:"/"},a.defaults,c)).expires&&(c.expires=new Date(1*new Date+864e5*c.expires)),c.expires=c.expires?c.expires.toUTCString():"";try{var o=JSON.stringify(r);/^[\{\[]/.test(o)&&(r=o)}catch(i){}r=n.write?n.write(r,e):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var u="";for(var s in c)c[s]&&(u+="; "+s,!0!==c[s]&&(u+="="+c[s].split(";")[0]));return document.cookie=e+"="+r+u}}function o(t,r){if("undefined"!==typeof document){for(var a={},c=document.cookie?document.cookie.split("; "):[],o=0;o<c.length;o++){var u=c[o].split("="),s=u.slice(1).join("=");r||'"'!==s.charAt(0)||(s=s.slice(1,-1));try{var i=e(u[0]);if(s=(n.read||n)(s,i)||e(s),r)try{s=JSON.parse(s)}catch(l){}if(a[i]=s,t===i)break}catch(l){}}return t?a[t]:a}}return a.set=c,a.get=function(t){return o(t,!1)},a.getJSON=function(t){return o(t,!0)},a.remove=function(e,r){c(e,"",t(r,{expires:-1}))},a.defaults={},a.withConverter=r,a}((function(){}))}))}},[["dpcX",1,2,0,3,5,8,9]]]);