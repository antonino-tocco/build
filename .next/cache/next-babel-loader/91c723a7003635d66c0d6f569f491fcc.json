{"ast":null,"code":"var __jsx = React.createElement;\nimport * as React from 'react';\nimport { useEffect } from \"react\";\nimport { useRouter } from \"next/router\";\nimport { getTypes } from \"../../helpers/apiHelper\";\nimport PageContainer from \"../../components/page/pageContainer\";\nimport pageContentStyle from \"../page.module.scss\";\nimport { Typography } from \"@material-ui/core\";\nimport Spinner from \"../../components/spinner/spinner\";\nimport { getPage } from \"../../helpers/dataHelper\";\nimport { DataTypeCtaButton } from \"../../components/cta/dataTypeCtaButton\";\nimport constants from \"../../constants\";\n\nfunction DataHomePage() {\n  const router = useRouter();\n  const [loading, setLoading] = React.useState(true);\n  const [page, setPage] = React.useState({});\n  const [dataTypes, setDataTypes] = React.useState([]);\n  useEffect(() => {\n    setup();\n  }, []);\n\n  const setup = async () => {\n    const _page = await getPage('data');\n\n    const {\n      values: types\n    } = await getTypes('dataset');\n    setPage(_page);\n    setDataTypes(types);\n    setLoading(false);\n  };\n\n  const _ctaAction = async type => {\n    await router.push(`/data/${type}`);\n  };\n\n  const _getDataTypeLabel = type => {\n    var _constants$DATA_TYPE_;\n\n    return (_constants$DATA_TYPE_ = constants.DATA_TYPE_LABELS[type]) !== null && _constants$DATA_TYPE_ !== void 0 ? _constants$DATA_TYPE_ : type;\n  };\n\n  return __jsx(PageContainer, {\n    variant: page === null || page === void 0 ? void 0 : page.variant,\n    mainClassName: 'with-fixed-header',\n    fixedHeader: true\n  }, __jsx(\"div\", {\n    className: `container ${pageContentStyle['page-container']}`\n  }, __jsx(\"div\", {\n    className: \"row\"\n  }, __jsx(\"div\", {\n    className: \"col-12\"\n  }, __jsx(Typography, {\n    variant: \"h4\",\n    className: `${pageContentStyle['page-header-label']} text-center`\n  }, page.title), __jsx(\"div\", {\n    className: pageContentStyle['page-header-divider']\n  }))), __jsx(\"div\", {\n    className: \"row\"\n  }, __jsx(\"div\", {\n    className: \"col-12\"\n  }, page.content)), __jsx(\"section\", {\n    style: {\n      marginTop: 20\n    }\n  }, (dataTypes !== null && dataTypes !== void 0 ? dataTypes : []).map(item => __jsx(\"div\", {\n    className: \"row\",\n    style: {\n      marginTop: 20\n    }\n  }, __jsx(\"div\", {\n    className: \"col-12\"\n  }, __jsx(DataTypeCtaButton, {\n    type: _getDataTypeLabel(item),\n    action: type => _ctaAction(item)\n  }))))), loading ? __jsx(Spinner, null) : null));\n}\n\nexport default DataHomePage;","map":null,"metadata":{},"sourceType":"module"}