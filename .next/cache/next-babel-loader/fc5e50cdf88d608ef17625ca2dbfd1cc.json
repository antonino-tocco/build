{"ast":null,"code":"import _regeneratorRuntime from \"/mnt/c/Users/enton/Workspace/cnr/build/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/mnt/c/Users/enton/Workspace/cnr/build/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/mnt/c/Users/enton/Workspace/cnr/build/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar __jsx = React.createElement;\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport Head from \"next/head\";\nimport Header from \"../header/header\";\nimport pageStyle from './page.module.scss';\nimport Feedback from \"../feedback/index\";\nimport Footer from \"../footer/footer\";\nimport { getConfig, getMenuItems } from \"../../helpers/dataHelper\";\nimport { forwardRef, useEffect } from \"react\";\nimport { TosOverlay } from \"../tos-overlay/tosOverlay\";\nimport { tosAgree } from \"../../actions/tos.actions\";\nimport constants from \"../../constants\";\nimport '../../node_modules/bootstrap/dist/css/bootstrap.min.css';\n\nfunction _PageContainer(props, ref) {\n  var _pageStyle, _props$variant, _props$fixedHeader, _props$transparentHea, _config$tos;\n\n  var children = props.children,\n      _props$title = props.title,\n      title = _props$title === void 0 ? 'Hippocampus Facility Hub' : _props$title,\n      headerCarousel = props.headerCarousel,\n      showDrawerToggleButton = props.showDrawerToggleButton,\n      openDrawer = props.openDrawer;\n\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      menuItems = _React$useState2[0],\n      setMenuItems = _React$useState2[1];\n\n  var _React$useState3 = React.useState({}),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      config = _React$useState4[0],\n      setConfig = _React$useState4[1];\n\n  var _React$useState5 = React.useState(true),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      loading = _React$useState6[0],\n      setLoading = _React$useState6[1];\n\n  var setup = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _menuItems, _config;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return getMenuItems();\n\n            case 2:\n              _menuItems = _context.sent;\n              _context.next = 5;\n              return getConfig();\n\n            case 5:\n              _config = _context.sent;\n              setMenuItems(_menuItems);\n              setConfig(_config);\n              setLoading(false);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function setup() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    setup();\n  }, []);\n\n  var _agreeTos = function _agreeTos() {\n    if (!!(props === null || props === void 0 ? void 0 : props.tosAgree)) {\n      props === null || props === void 0 ? void 0 : props.tosAgree();\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: \"\".concat(pageStyle.page, \" \").concat((_pageStyle = pageStyle[(_props$variant = props === null || props === void 0 ? void 0 : props.variant) !== null && _props$variant !== void 0 ? _props$variant : 'light']) !== null && _pageStyle !== void 0 ? _pageStyle : '')\n  }, __jsx(Head, null, __jsx(\"title\", null, title), __jsx(\"meta\", {\n    httpEquiv: \"Content-Security-Policy\",\n    content: \"upgrade-insecure-requests\"\n  }), __jsx(\"meta\", {\n    name: \"robots\",\n    content: \"noindex,nofollow\"\n  }), __jsx(\"link\", {\n    href: \"https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200;0,300;0,400;0,600;0,700;0,800;0,900;1,200;1,300;1,400;1,600;1,700;1,800;1,900&display=swap\",\n    rel: \"stylesheet\"\n  }), __jsx(\"link\", {\n    href: \"https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\",\n    rel: \"stylesheet\"\n  }), __jsx(\"link\", {\n    href: \"https://fonts.googleapis.com/css2?family=Titillium+Web:ital,wght@0,200;0,300;0,400;0,600;0,700;0,900;1,200;1,300;1,400;1,600;1,700&display=swap\",\n    rel: \"stylesheet\"\n  }), __jsx(\"link\", {\n    rel: \"preconnect\",\n    href: \"https://fonts.gstatic.com\"\n  }), __jsx(\"link\", {\n    rel: \"stylesheet\",\n    href: \"https://www.hippocampushub.eu/shared_css/main.min.css\"\n  }), props.tosAgreed ? __jsx(\"script\", {\n    async: true,\n    src: \"https://www.googletagmanager.com/gtag/js?id=G-SGZ83Y6E8H\",\n    type: \"text/javascript\"\n  }) : null, props.tosAgreed ? __jsx(\"script\", {\n    async: true,\n    src: \"\".concat(constants.BASE_URL, \"/assets/js/analytics.js\"),\n    type: \"text/javascript\"\n  }) : null), __jsx(\"div\", {\n    className: \"container-fluid \".concat(pageStyle['main-page-container'])\n  }, __jsx(Header, {\n    config: config.header,\n    carouselImages: headerCarousel,\n    menuItems: menuItems,\n    showDrawerToggleButton: showDrawerToggleButton,\n    openDrawer: openDrawer,\n    fixedHeader: (_props$fixedHeader = props.fixedHeader) !== null && _props$fixedHeader !== void 0 ? _props$fixedHeader : false,\n    transparentHeader: (_props$transparentHea = props.transparentHeader) !== null && _props$transparentHea !== void 0 ? _props$transparentHea : false,\n    openImageCreditsDialog: props === null || props === void 0 ? void 0 : props.openImageCreditsDialog\n  }), __jsx(\"div\", null, __jsx(\"main\", {\n    className: \"\".concat(pageStyle['main-container'], \" \").concat(!!(props === null || props === void 0 ? void 0 : props.mainClassName) ? pageStyle[props === null || props === void 0 ? void 0 : props.mainClassName] : '')\n  }, children, __jsx(Feedback, null)))), !(props === null || props === void 0 ? void 0 : props.tosAgreed) && !loading ? __jsx(TosOverlay, {\n    tos: (_config$tos = config === null || config === void 0 ? void 0 : config.tos) !== null && _config$tos !== void 0 ? _config$tos : null,\n    agreeTos: props.agreeTos\n  }) : null, __jsx(Footer, {\n    footer: config.footer\n  }));\n}\n\nvar mapStateToProps = function mapStateToProps(state, props) {\n  var _state$tos$agree, _state$tos;\n\n  return {\n    tosAgreed: (_state$tos$agree = state === null || state === void 0 ? void 0 : (_state$tos = state.tos) === null || _state$tos === void 0 ? void 0 : _state$tos.agree) !== null && _state$tos$agree !== void 0 ? _state$tos$agree : false\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    agreeTos: function agreeTos() {\n      return dispatch(tosAgree());\n    }\n  };\n};\n\nvar PageContainer = /*#__PURE__*/forwardRef(function (props, ref) {\n  return _PageContainer(props, ref);\n});\nexport default connect(mapStateToProps, mapDispatchToProps)(PageContainer);","map":null,"metadata":{},"sourceType":"module"}