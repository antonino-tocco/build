{"ast":null,"code":"import _defineProperty from \"/mnt/c/Users/enton/Workspace/cnr/build/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport * as React from \"react\";\nimport { CustomButton } from \"../buttons/buttons\";\nimport { Card, makeStyles, Typography } from \"@material-ui/core\";\nimport constants from \"../../constants\";\nimport * as hodgkinHuxleyBaloonStyle from './index.module.scss';\nimport { TagView } from \"../tags/tagView\";\nimport { hashCode } from \"../../helpers/hashHelper\";\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      zIndex: 10\n    }\n  };\n});\nexport function HodgkinHuxleyBaloon(_ref) {\n  var morphology = _ref.morphology,\n      electrophysiologies = _ref.electrophysiologies,\n      modFiles = _ref.modFiles,\n      removeMorphology = _ref.removeMorphology,\n      removeElectrophysiology = _ref.removeElectrophysiology,\n      removeModFile = _ref.removeModFile,\n      clear = _ref.clear,\n      variant = _ref.variant;\n  var classes = useStyles();\n\n  var _sendToHodgkinHuxley = function _sendToHodgkinHuxley() {\n    var HFFComm = {};\n\n    if (!!morphology) {\n      var _morphology$url;\n\n      var fileUrlSplitted = ((_morphology$url = morphology === null || morphology === void 0 ? void 0 : morphology.url) !== null && _morphology$url !== void 0 ? _morphology$url : '').split('.');\n      var fileExtension = fileUrlSplitted.length > 1 ? fileUrlSplitted[fileUrlSplitted.length - 1] : '';\n      HFFComm.morphology = {\n        name: encodeURIComponent(\"\".concat(morphology === null || morphology === void 0 ? void 0 : morphology.name)),\n        url: encodeURIComponent(morphology === null || morphology === void 0 ? void 0 : morphology.url)\n      };\n    }\n\n    if (!!electrophysiologies) {\n      HFFComm.electrophysiologies = electrophysiologies === null || electrophysiologies === void 0 ? void 0 : electrophysiologies.map(function (item) {\n        var _item$metadata$url, _item$metadata;\n\n        return {\n          name: encodeURIComponent(item === null || item === void 0 ? void 0 : item.name),\n          url: encodeURIComponent(item === null || item === void 0 ? void 0 : item.url),\n          metadata: encodeURIComponent((_item$metadata$url = item === null || item === void 0 ? void 0 : (_item$metadata = item.metadata) === null || _item$metadata === void 0 ? void 0 : _item$metadata.url) !== null && _item$metadata$url !== void 0 ? _item$metadata$url : null)\n        };\n      });\n    }\n\n    if (!!modFiles && (modFiles === null || modFiles === void 0 ? void 0 : modFiles.length) > 0) {\n      HFFComm.modFiles = modFiles === null || modFiles === void 0 ? void 0 : modFiles.map(function (item) {\n        return {\n          name: encodeURIComponent(item === null || item === void 0 ? void 0 : item.label),\n          url: encodeURIComponent(item === null || item === void 0 ? void 0 : item.url)\n        };\n      });\n    }\n\n    if (!!window) {\n      var url = \"\".concat(constants.HODGKIN_HUXLEY_BASE_URL, \"/\");\n\n      if (Object.keys(HFFComm).length > 0) {\n        url += \"hhf-comm?hhf_dict=\".concat(JSON.stringify(_defineProperty({}, constants.HHF_COMM, HFFComm)));\n      }\n\n      window.open(url);\n    } //_clear();\n\n  };\n\n  var _onRemoveMorphology = function _onRemoveMorphology() {\n    if (!!removeMorphology) {\n      removeMorphology();\n    }\n  };\n\n  var _onRemoveElectrophysiology = function _onRemoveElectrophysiology(item) {\n    if (!!removeElectrophysiology) {\n      removeElectrophysiology(item);\n    }\n  };\n\n  var _onRemoveModFile = function _onRemoveModFile(item) {\n    if (!!removeModFile) {\n      removeModFile(item);\n    }\n  };\n\n  var _clear = function _clear() {\n    if (!!clear) {\n      clear();\n    }\n  };\n\n  var hasMorphology = !!morphology;\n  var hasElectrophysiology = !!electrophysiologies && (electrophysiologies === null || electrophysiologies === void 0 ? void 0 : electrophysiologies.length) > 0;\n  var hasModFiles = !!modFiles && (modFiles === null || modFiles === void 0 ? void 0 : modFiles.length) > 0;\n  return __jsx(\"div\", null, __jsx(Card, {\n    classes: classes\n  }, __jsx(\"div\", {\n    className: \"\".concat(hodgkinHuxleyBaloonStyle['hodgkin-huxley-baloon'], \" \").concat(!!variant ? hodgkinHuxleyBaloonStyle[variant] : null)\n  }, __jsx(\"div\", {\n    className: \"row\"\n  }, __jsx(\"div\", {\n    className: \"col-12\"\n  }, __jsx(Typography, {\n    className: hodgkinHuxleyBaloonStyle['hodgkin-huxley-baloon-header-label'],\n    variant: \"subtitle1\"\n  }, \"Hodgkin-Huxley Neuron Builder\")), __jsx(\"div\", {\n    className: \"col-6\"\n  }, hasMorphology ? __jsx(\"div\", {\n    className: \"row\"\n  }, __jsx(\"div\", {\n    className: \"col-12\"\n  }, __jsx(\"span\", {\n    className: hodgkinHuxleyBaloonStyle['hodgkin-huxley-baloon-label']\n  }, \"Morphology:\"), __jsx(TagView, {\n    label: morphology === null || morphology === void 0 ? void 0 : morphology.name,\n    item: morphology,\n    onRemoveClicked: _onRemoveMorphology\n  }))) : null, hasElectrophysiology ? __jsx(\"div\", {\n    className: \"row\"\n  }, __jsx(\"div\", {\n    className: \"col-12\"\n  }, __jsx(\"span\", {\n    className: hodgkinHuxleyBaloonStyle['hodgkin-huxley-baloon-label']\n  }, \"Electrophysiologies:\"), electrophysiologies === null || electrophysiologies === void 0 ? void 0 : electrophysiologies.map(function (item) {\n    return __jsx(TagView, {\n      key: \"electrophysiology-\".concat(hashCode(JSON.stringify(item))),\n      label: item === null || item === void 0 ? void 0 : item.name,\n      item: item,\n      onRemoveClicked: _onRemoveElectrophysiology\n    });\n  }))) : null, hasModFiles ? __jsx(\"div\", {\n    className: \"row\",\n    style: {\n      marginTop: 20\n    }\n  }, __jsx(\"div\", {\n    className: \"col-12\"\n  }, __jsx(\"span\", {\n    className: hodgkinHuxleyBaloonStyle['hodgkin-huxley-baloon-label']\n  }, \"Mod File(s):\"), modFiles === null || modFiles === void 0 ? void 0 : modFiles.map(function (item) {\n    return __jsx(TagView, {\n      key: \"model-\".concat(hashCode(JSON.stringify(item))),\n      label: item === null || item === void 0 ? void 0 : item.label,\n      item: item,\n      onRemoveClicked: _onRemoveModFile\n    });\n  }))) : null), __jsx(\"div\", {\n    className: \"col-6 text-right\"\n  }, __jsx(CustomButton, {\n    onClick: function onClick() {\n      return _sendToHodgkinHuxley();\n    },\n    style: {\n      \"float\": 'right',\n      fontSize: 12\n    },\n    isCta: true\n  }, \"Launch HH Neuron Builder\"), hasMorphology || hasModFiles ? __jsx(CustomButton, {\n    onClick: function onClick() {\n      return _clear();\n    },\n    style: {\n      \"float\": 'right',\n      fontSize: 12,\n      marginRight: 20\n    },\n    isCta: true\n  }, \"CLEAR ALL\") : null)))));\n}","map":null,"metadata":{},"sourceType":"module"}